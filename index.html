<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erotic Date Night</title>
    <meta name="description" content="A sophisticated intimate game for adventurous couples">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold: #d4af37;
            --light-gold: #f4e4bc;
            --cream: #f5f5dc;
            --black: #0a0a0a;
            --dark-brown: #2a1810;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Source Sans Pro', sans-serif;
            min-height: 100vh;
            color: var(--cream);
            overflow-x: hidden;
            position: relative;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Background Image */
        .background-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            /* IMPORTANT: Replace this entire background property with your intimate image */
            /* Example: background: url('data:image/jpeg;base64,YOUR_BASE64_HERE') center/cover no-repeat; */
            background: #1a0a05; /* Temporary dark brown background */
            filter: brightness(0.4);
        }

        /* Gradient Overlay */
        .gradient-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center top, transparent 0%, rgba(42, 24, 16, 0.8) 60%),
                        linear-gradient(to bottom, rgba(10, 10, 10, 0.3) 0%, rgba(42, 24, 16, 0.95) 100%);
            z-index: -1;
        }

        .container {
            max-width: 420px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 1s ease-out;
        }

        .title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3rem;
            font-weight: 300;
            color: var(--gold);
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.5), 0 2px 4px rgba(0, 0, 0, 0.8);
            letter-spacing: 2px;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 1rem;
            color: rgba(245, 245, 220, 0.8);
            font-style: italic;
            font-weight: 300;
        }

        /* Current Settings */
        .current-settings {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid var(--gold);
            border-radius: 30px;
            padding: 20px;
            text-align: center;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            font-size: 1.1rem;
        }

        .settings-btn {
            background: transparent;
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 0.9rem;
            cursor: pointer;
            margin-left: 15px;
            transition: all 0.3s ease;
            font-weight: 400;
        }

        .settings-btn:hover {
            background: rgba(212, 175, 55, 0.1);
            transform: translateY(-1px);
        }

        /* Player Turn */
        .player-turn {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 25px;
            text-align: center;
            margin-bottom: 30px;
            border: 1px solid var(--gold);
        }

        .current-player {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            font-weight: 300;
            color: var(--gold);
            margin-bottom: 5px;
        }

        .turn-counter {
            font-size: 1rem;
            color: rgba(245, 245, 220, 0.8);
        }

        /* Play Button */
        .wheel-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .play-button {
            background: linear-gradient(135deg, #d4af37, #f4e4bc);
            border: none;
            border-radius: 50%;
            width: 150px;
            height: 150px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.6);
            position: relative;
            overflow: hidden;
        }

        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 70px rgba(212, 175, 55, 0.8);
        }

        .play-button:not(:disabled) {
            animation: pulseGlow 2s ease-in-out infinite;
        }

        @keyframes pulseGlow {
            0%, 100% { 
                box-shadow: 0 0 50px rgba(212, 175, 55, 0.6);
            }
            50% { 
                box-shadow: 0 0 80px rgba(212, 175, 55, 0.8);
            }
        }

        .play-icon {
            width: 90px;
            height: 90px;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        /* Action Buttons */
        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .action-btn {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid var(--gold);
            border-radius: 30px;
            padding: 25px 20px;
            color: var(--cream);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            min-height: 140px;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.4);
            background: rgba(212, 175, 55, 0.15);
            border-color: #f4e4bc;
        }

        .action-btn.highlighted {
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.6);
            border-width: 2px;
        }

        .action-btn.selected {
            transform: scale(1.1);
            box-shadow: 0 0 60px rgba(212, 175, 55, 0.8);
            border-width: 3px;
            background: rgba(212, 175, 55, 0.2);
        }

        .btn-icon {
            width: 60px;
            height: 60px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.5));
        }
        
        /* Larger icon for question button to match mockup */
        .btn-icon.question {
            width: 70px;
            height: 70px;
        }

        .btn-text {
            font-size: 1rem;
            text-align: center;
            color: var(--cream);
        }

        /* Settings Modal */
        .settings-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .settings-overlay.hidden {
            display: none;
        }

        .settings-modal {
            background: rgba(20, 12, 8, 0.98);
            border-radius: 30px;
            padding: 35px;
            max-width: 400px;
            width: 95%;
            max-height: 85vh;
            overflow-y: auto;
            border: 2px solid var(--gold);
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.3);
        }

        .settings-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            color: var(--gold);
            text-align: center;
            margin-bottom: 30px;
            font-weight: 300;
        }

        /* Question Display Modal */
        .question-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 996;
            display: none;
        }

        .question-overlay.show {
            display: block;
        }

        .question-display {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            background: rgba(20, 12, 8, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 35px 30px;
            border: 2px solid var(--gold);
            box-shadow: 0 0 60px rgba(212, 175, 55, 0.5);
            display: none;
            z-index: 997;
        }

        .question-display.show {
            display: block;
            animation: questionPop 0.5s ease-out;
        }

        @keyframes questionPop {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .question-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            font-weight: 300;
            color: var(--gold);
            text-align: center;
            margin-bottom: 25px;
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        .question-text {
            font-size: 1.3rem;
            line-height: 1.5;
            text-align: center;
            font-style: italic;
            color: var(--cream);
            margin-bottom: 25px;
        }

        .question-intensity {
            display: inline-block;
            background: var(--gold);
            color: var(--black);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Animations */
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Auto-advance countdown */
        .auto-advance-overlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(20, 12, 8, 0.98);
            border: 2px solid var(--gold);
            border-radius: 30px;
            padding: 50px 60px;
            text-align: center;
            z-index: 999;
            display: none;
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.5);
        }

        .auto-advance-overlay.show {
            display: block;
        }

        .countdown-number {
            font-size: 5rem;
            font-weight: 300;
            color: var(--gold);
            text-shadow: 0 0 40px rgba(212, 175, 55, 0.6);
            font-family: 'Cormorant Garamond', serif;
        }

        .countdown-text {
            margin-top: 15px;
            font-size: 1.3rem;
            color: var(--cream);
            font-style: italic;
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px 35px;
            border-radius: 25px;
            z-index: 1050;
            display: none;
            border: 1px solid var(--gold);
            max-width: 90%;
            text-align: center;
            font-size: 1.1rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        }

        .notification.show {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateX(-50%) translateY(-10px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        /* Other form elements */
        .player-input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--gold);
            border-radius: 25px;
            background: rgba(0, 0, 0, 0.6);
            color: var(--cream);
            font-size: 1rem;
            text-align: center;
            margin-bottom: 15px;
        }

        .continue-btn {
            background: linear-gradient(135deg, var(--gold), var(--light-gold));
            color: var(--black);
            border: none;
            border-radius: 25px;
            padding: 18px 35px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.5);
        }

        /* Responsive Design */
        @media (max-width: 480px) {
            .title { font-size: 2.5rem; }
            .play-button { width: 120px; height: 120px; }
            .play-icon { width: 70px; height: 70px; }
            .action-btn { min-height: 120px; padding: 20px 15px; }
            .btn-icon { width: 50px; height: 50px; }
        }
    </style>
</head>
<body>
    <!-- Background layers -->
    <div class="background-image"></div>
    <div class="gradient-overlay"></div>

    <!-- Player Setup Overlay -->
    <div class="settings-overlay" id="playerSetupOverlay">
        <div class="settings-modal">
            <h2 class="settings-title">Welcome to Erotic Date Night</h2>
            
            <div style="margin-bottom: 30px; text-align: center;">
                <p style="color: var(--cream); margin-bottom: 25px; font-size: 1.1rem;">Enter your names to get started:</p>
                
                <input type="text" class="player-input" id="setupPlayer1Name" placeholder="Player 1 Name" maxlength="20">
                <input type="text" class="player-input" id="setupPlayer2Name" placeholder="Player 2 Name" maxlength="20">
            </div>
            
            <button class="continue-btn" onclick="savePlayerNamesAndContinue()">
                Continue to Game Settings
            </button>
        </div>
    </div>

    <!-- Settings Overlay -->
    <div class="settings-overlay hidden" id="settingsOverlay">
        <div class="settings-modal">
            <h2 class="settings-title">Choose Your Experience</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px;">
                <button class="spice-level" data-level="1" onclick="selectSpiceLevel(1)">
                    <div style="font-size: 1.3rem;">😊 Romantic</div>
                    <div style="font-size: 0.85rem; margin-top: 5px; opacity: 0.8;">Sensual & Sweet</div>
                </button>
                <button class="spice-level selected" data-level="2" onclick="selectSpiceLevel(2)">
                    <div style="font-size: 1.3rem;">🔥 Spicy</div>
                    <div style="font-size: 0.85rem; margin-top: 5px; opacity: 0.8;">Passionate & Bold</div>
                </button>
                <button class="spice-level" data-level="3" onclick="selectSpiceLevel(3)">
                    <div style="font-size: 1.3rem;">🌶️ Intense</div>
                    <div style="font-size: 0.85rem; margin-top: 5px; opacity: 0.8;">Kinky & Explicit</div>
                </button>
                <button class="spice-level" data-level="4" onclick="selectSpiceLevel(4)">
                    <div style="font-size: 1.3rem;">🔥🔥 Extreme</div>
                    <div style="font-size: 0.85rem; margin-top: 5px; opacity: 0.8;">No Limits</div>
                </button>
            </div>
            
            <button class="continue-btn" onclick="saveSettingsAndContinue()">
                Start Playing
            </button>
        </div>
    </div>

    <!-- Main App -->
    <div class="container">
        <div class="header">
            <h1 class="title">Erotic Date Night</h1>
            <p class="subtitle">A sophisticated game for adventurous couples</p>
        </div>

        <div class="current-settings" id="currentSettings">
            <span style="font-size: 1.1rem;">Current Level: <strong style="color: #f4e4bc;">Spicy</strong></span>
            <button class="settings-btn" onclick="showSettings()">Change</button>
        </div>

        <div class="player-turn">
            <div class="current-player" id="currentPlayerDisplay">Player 1's Turn</div>
            <div class="turn-counter" id="turnCounter">Turn #1</div>
        </div>

        <div class="game-area">
            <div class="wheel-container">
                <button class="play-button" id="playButton" onclick="startSpinning()">
                    <div class="play-icon"></div>
                </button>
            </div>

            <div class="action-buttons" id="actionButtons">
                <button class="action-btn" data-action="Remove Clothing">
                    <div class="btn-icon clothing"></div>
                    <span class="btn-text">Remove Clothing</span>
                </button>
                
                <button class="action-btn" data-action="Take a Sip">
                    <div class="btn-icon sip"></div>
                    <span class="btn-text">Take a Sip</span>
                </button>
                
                <button class="action-btn" data-action="Take a Shot">
                    <div class="btn-icon shot"></div>
                    <span class="btn-text">Take a Shot</span>
                </button>
                
                <button class="action-btn" data-action="Question">
                    <div class="btn-icon question"></div>
                    <span class="btn-text">Will You Ever...</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Question Display Modal -->
    <div class="question-overlay" id="questionOverlay"></div>
    <div class="question-display" id="questionDisplay">
        <div class="question-title">Will You Ever...</div>
        <div class="question-text" id="questionText"></div>
        <div style="text-align: center; margin-top: 25px;">
            <span class="question-intensity" id="questionIntensity"></span>
        </div>
        
        <div class="question-actions" id="questionActions" style="margin-top: 35px;">
            <div style="display: flex; gap: 20px; margin-bottom: 25px; justify-content: center;">
                <button class="answer-btn yes-btn" onclick="answerQuestion('yes')" style="flex: 1; max-width: 140px; background: none; border: 2px solid var(--gold); border-radius: 25px; padding: 15px 20px; color: var(--gold); font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                    <div style="font-size: 1.5rem;">💋</div>
                    <div style="font-size: 0.9rem; margin-top: 5px;">Hell Yes!</div>
                </button>
                <button class="answer-btn no-btn" onclick="answerQuestion('no')" style="flex: 1; max-width: 140px; background: none; border: 2px solid var(--gold); border-radius: 25px; padding: 15px 20px; color: var(--gold); font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                    <div style="font-size: 1.5rem;">😈</div>
                    <div style="font-size: 0.9rem; margin-top: 5px;">Not Tonight</div>
                </button>
            </div>
            
            <button onclick="letFateDecide()" style="width: 100%; background: linear-gradient(135deg, #722f37, #8b0000); border: none; border-radius: 25px; padding: 15px 25px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 10px;">
                <span style="font-size: 1.2rem;">🎲</span>
                <span>Let Fate Decide</span>
            </button>
        </div>
        
        <div id="questionResult" style="display: none; text-align: center; padding: 25px; margin-top: 20px; border-radius: 20px;">
            <div id="resultIcon" style="font-size: 3rem; margin-bottom: 10px;"></div>
            <div id="resultMessage" style="font-size: 1.1rem; font-weight: 600; color: var(--cream);"></div>
        </div>
    </div>

    <!-- Auto-advance countdown -->
    <div class="auto-advance-overlay" id="autoAdvanceOverlay">
        <div class="countdown-number" id="countdownNumber">3</div>
        <div class="countdown-text">Next player in...</div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        /* ===================================================================
           HOW TO ADD YOUR ACTUAL IMAGES:
           
           1. Convert your images to base64 using an online converter like:
              - https://base64.guru/converter/encode/image
              - https://www.base64-image.de/
           
           2. Replace the placeholder base64 strings below:
              - ${INTIMATE_BACKGROUND_BASE64} - Your intimate background image
              - Golden dice icon - Replace in initializeIcons() function
              - Golden clothing icon - Replace in initializeIcons() function  
              - Golden wine glass icon - Replace in initializeIcons() function
              - Golden shot glass icon - Replace in initializeIcons() function
              - Golden question icon - Replace in initializeIcons() function
           
           3. The base64 strings will be very long (possibly 100,000+ characters)
              but that's normal and will work fine.
           
           NOTE: If you're hitting usage limits, it's because this file is large.
           Save it locally and make the image replacements yourself!
        =================================================================== */
        // QUESTIONS DATABASE - EASILY EDITABLE
        // =====================================
        // To edit questions: Simply modify the arrays below
        // The word "partner" in any question will be automatically replaced with the next player's name
        // 
        // Example: If it's John's turn, "Will you ever let partner kiss you?" 
        //          becomes "Will you ever let Sarah kiss you?"
        //
        // Add as many questions as you want to each spice level!
        // =====================================
        const questionsDatabase = {
            1: { // Romantic
                questions: [
                    "Will you ever let partner give you a sensual massage tonight?",
                    "Will you ever tell partner what makes you feel most loved?",
                    "Will you ever dance with partner in just your underwear?",
                    "Will you ever let partner undress you slowly by candlelight?",
                    "Will you ever let partner worship your body with kisses?",
                    "Will you ever write partner a love letter describing your desires?",
                    "Will you ever share your most romantic fantasy with partner?",
                    "Will you ever tell partner about your dream romantic getaway?",
                    "Will you ever describe to partner how you want to be seduced?",
                    "Will you ever let partner feed you strawberries and champagne?",
                    "Will you ever take a bubble bath with partner tonight?"
                ]
            },
            2: { // Spicy
                questions: [
                    "Will you ever let partner choose what you wear to bed tonight?",
                    "Will you ever try that position you've been thinking about with partner?",
                    "Will you ever tell partner your secret turn-on?",
                    "Will you ever let partner tease you until you can't take it?",
                    "Will you ever skinny dip with partner tonight?",
                    "Will you ever let partner wake you up with oral sex?",
                    "Will you ever have sex with partner in the shower?",
                    "Will you ever let partner see you completely naked in daylight?",
                    "Will you ever tell partner what you want them to do to you right now?",
                    "Will you ever try making love with partner without saying a word?",
                    "Will you ever tell partner your dirtiest fantasy?",
                    "Will you ever share with partner what you think about when you touch yourself?",
                    "Will you ever describe to partner your perfect night of passion?",
                    "Will you ever let partner watch you touch yourself?",
                    "Will you ever show partner how you like to be touched?",
                    "Will you ever let partner take photos of you in lingerie?",
                    "Will you ever send partner a sexy photo when they're at work?"
                ]
            },
            3: { // Intense
                questions: [
                    "Will you ever try anal with partner?",
                    "Will you ever let partner tease you for hours?",
                    "Will you ever try edging with partner?",
                    "Will you ever let partner use ice on your body?",
                    "Will you ever let partner completely dominate you tonight?",
                    "Will you ever let partner tie your hands behind your back?",
                    "Will you ever let partner blindfold you during foreplay?",
                    "Will you ever let partner use handcuffs on you?",
                    "Will you ever try being completely submissive to partner?",
                    "Will you ever let partner spank you?",
                    "Will you ever let partner control when you climax?",
                    "Will you ever let partner pleasure you in a public place?",
                    "Will you ever risk getting caught with partner?",
                    "Will you ever have sex with partner in a risky location?",
                    "Will you ever have sex with partner while others are nearby?",
                    "Will you ever use toys with partner?",
                    "Will you ever let partner control your pleasure with a toy?",
                    "Will you ever experiment with different toys with partner?",
                    "Will you ever role-play being strangers meeting partner for the first time?",
                    "Will you ever dress up in costume for partner?",
                    "Will you ever pretend to be someone else in bed with partner?",
                    "Will you ever let partner record you two (just for yourselves)?",
                    "Will you ever moan partner's name while they watch you?",
                    "Will you ever perform for partner like they're your audience?"
                ]
            },
            4: { // Extreme
                questions: [
                    "Will you ever try something with partner that pushes both your boundaries?",
                    "Will you ever explore your darkest desires with partner?",
                    "Will you ever try pain mixed with pleasure with partner?",
                    "Will you ever experiment with power exchange scenarios with partner?",
                    "Will you ever let partner have complete control over your body?",
                    "Will you ever try double penetration with toys with partner?",
                    "Will you ever experiment with extreme toys with partner?",
                    "Will you ever try taboo role-playing scenarios with partner?",
                    "Will you ever explore forbidden fantasies with partner?",
                    "Will you ever let partner fulfill your most secret desire?",
                    "Will you ever share everything with partner, no matter how dark?",
                    "Will you ever push partner to their absolute limits tonight?"
                ]
            }
        };

        // Game State
        let gameState = {
            currentPlayer: 'Player1',
            totalTurns: 0,
            player1Name: 'Player 1',
            player2Name: 'Player 2',
            spiceLevel: 2,
            sessionID: generateSessionID(),
            isSpinning: false,
            actionTaken: false
        };

        // Initialize golden icons
        function initializeIcons() {
            // Golden dice icon (from image 4)
            document.querySelector('.play-icon').style.backgroundImage = 'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJnb2xkIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjRlNGJjO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2Q0YWYzNztzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB4PSIxMCIgeT0iMTAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCIgcng9IjE1IiByeT0iMTUiIGZpbGw9InVybCgjZ29sZCkiLz48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSI4IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNzAiIGN5PSIzMCIgcj0iOCIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjgiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIzMCIgY3k9IjcwIiByPSI4IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNzAiIGN5PSI3MCIgcj0iOCIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==")';
            
            // Golden lingerie/clothing icon (from image 8)
            document.querySelector('.btn-icon.clothing').style.backgroundImage = 'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDYwIDYwIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImdvbGQxIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjRlNGJjO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2Q0YWYzNztzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSJNMzAgNSBDMjAgNSAxNSAxMCAxNSAyMCBDMTUgMjUgMTggMzAgMzAgMzAgQzQyIDMwIDQ1IDI1IDQ1IDIwIEM0NSAxMCA0MCA1IDMwIDUgWiBNMzAgMzAgTDI1IDUwIEwzNSA1MCBaIiBmaWxsPSJ1cmwoI2dvbGQxKSIgc3Ryb2tlPSIjZDRhZjM3IiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=")';
            
            // Golden wine glass icon (from image 7)
            document.querySelector('.btn-icon.sip').style.backgroundImage = 'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDYwIDYwIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImdvbGQyIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjRlNGJjO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2Q0YWYzNztzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSJNMzAgNSBMMjAgMjUgQzIwIDM1IDI1IDQwIDMwIDQwIEMzNSA0MCA0MCAzNSA0MCAyNSBMMzAgNSBaIE0zMCA0MCBMMzAgNTAgTDIwIDU1IEw0MCA1NSBaIiBmaWxsPSJ1cmwoI2dvbGQyKSIgc3Ryb2tlPSIjZDRhZjM3IiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=")';
            
            // Golden shot glass icon (from image 6)  
            document.querySelector('.btn-icon.shot').style.backgroundImage = 'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDYwIDYwIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImdvbGQzIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjRlNGJjO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2Q0YWYzNztzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSJNMjUgMTAgTDI1IDQwIEwzNSA0MCBMMzUgMTAgWiBNMjAgNDUgTDQwIDQ1IEw0MCA1MCBMMjAgNTAgWiIgZmlsbD0idXJsKCNnb2xkMykiIHN0cm9rZT0iI2Q0YWYzNyIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+")';
            
            // Golden question mark with feather icon (from image 5)
            document.querySelector('.btn-icon.question').style.backgroundImage = 'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDYwIDYwIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImdvbGQ0IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjRlNGJjO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2Q0YWYzNztzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48dGV4dCB4PSIxNSIgeT0iMzUiIGZvbnQtZmFtaWx5PSJDb3Jtb3JhbnQgR2FyYW1vbmQiIGZvbnQtc2l6ZT0iNDAiIGZvbnQtd2VpZ2h0PSI2MDAiIGZpbGw9InVybCgjZ29sZDQpIj4/PC90ZXh0PjxwYXRoIGQ9Ik0zNSAyNSBDNDAgMjAgNDUgMjUgNDUgMzAgQzQ1IDM1IDQwIDQwIDM1IDQ1IEMzNSA0MCA0MCAzNSA0MCAzMCBDNDAgMjUgMzUgMjAgMzUgMjUgWiIgZmlsbD0idXJsKCNnb2xkNCkiIHN0cm9rZT0iI2Q0YWYzNyIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9zdmc+")';
        }

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            loadGameState();
            initializeIcons();
            
            // Check if players have been set up
            if (!gameState.player1Name || gameState.player1Name === 'Player 1' || 
                !gameState.player2Name || gameState.player2Name === 'Player 2') {
                showPlayerSetup();
            } else if (!localStorage.getItem('eroticDateNightSettings')) {
                showSettings();
            } else {
                updateDisplay();
            }
        });

        // Player Setup Functions
        function showPlayerSetup() {
            document.getElementById('playerSetupOverlay').classList.remove('hidden');
        }

        function savePlayerNamesAndContinue() {
            const player1 = document.getElementById('setupPlayer1Name').value.trim();
            const player2 = document.getElementById('setupPlayer2Name').value.trim();
            
            if (!player1 || !player2) {
                showNotification('Please enter both player names!');
                return;
            }
            
            gameState.player1Name = player1;
            gameState.player2Name = player2;
            
            document.getElementById('playerSetupOverlay').classList.add('hidden');
            
            if (!localStorage.getItem('eroticDateNightSettings')) {
                setTimeout(() => {
                    showSettings();
                }, 200);
            } else {
                updateDisplay();
                showNotification(`Welcome ${player1} and ${player2}! Roll the golden dice to play!`);
            }
            
            saveGameState();
        }

        // Settings Functions
        function showSettings() {
            document.getElementById('settingsOverlay').classList.remove('hidden');
        }

        function selectSpiceLevel(level) {
            gameState.spiceLevel = level;
            
            document.querySelectorAll('.spice-level').forEach(el => {
                el.classList.remove('selected');
                el.style.background = 'rgba(0, 0, 0, 0.5)';
                el.style.border = '2px solid rgba(212, 175, 55, 0.3)';
            });
            
            const selected = document.querySelector(`[data-level="${level}"]`);
            selected.classList.add('selected');
            selected.style.background = 'rgba(212, 175, 55, 0.2)';
            selected.style.border = '2px solid var(--gold)';
        }

        function saveSettingsAndContinue() {
            localStorage.setItem('eroticDateNightSettings', JSON.stringify({
                spiceLevel: gameState.spiceLevel
            }));
            
            document.getElementById('settingsOverlay').classList.add('hidden');
            updateDisplay();
            showNotification('Settings saved! Roll the golden dice to begin!');
        }

        // Game Functions
        function updateDisplay() {
            const currentPlayerName = gameState.currentPlayer === 'Player1' ? gameState.player1Name : gameState.player2Name;
            document.getElementById('currentPlayerDisplay').textContent = currentPlayerName + "'s Turn";
            document.getElementById('turnCounter').textContent = `Turn #${gameState.totalTurns + 1}`;
            
            document.getElementById('questionOverlay').classList.remove('show');
            document.getElementById('questionDisplay').classList.remove('show');
            
            updateCurrentSettingsDisplay();
            gameState.actionTaken = false;
        }

        function updateCurrentSettingsDisplay() {
            const levels = {1: 'Romantic', 2: 'Spicy', 3: 'Intense', 4: 'Extreme'};
            const levelName = levels[gameState.spiceLevel];
            
            document.getElementById('currentSettings').innerHTML = `
                <span style="font-size: 1.1rem;">Current Level: <strong style="color: #f4e4bc;">${levelName}</strong></span>
                <button class="settings-btn" onclick="showSettings()">Change</button>
            `;
        }

        // Get question with partner name replacement
        function getFilteredQuestion() {
            const questions = questionsDatabase[gameState.spiceLevel]?.questions || [];
            
            if (questions.length === 0) {
                return "Will you ever make this night unforgettable?";
            }
            
            // Get random question
            const randomIndex = Math.floor(Math.random() * questions.length);
            let question = questions[randomIndex];
            
            // Replace "partner" with the next player's name
            const nextPlayerName = gameState.currentPlayer === 'Player1' ? gameState.player2Name : gameState.player1Name;
            question = question.replace(/partner/g, nextPlayerName);
            
            return question;
        }

        // Weighted random selection
        function getWeightedRandomAction() {
            const weights = {
                'Remove Clothing': 0.125,  // 1/8
                'Take a Shot': 0.10,       // 1/10
                'Take a Sip': 0.20,        // 1/5
                'Question': 0.50           // 1/2
            };
            
            const random = Math.random();
            let cumSum = 0;
            
            for (const [action, weight] of Object.entries(weights)) {
                cumSum += weight;
                if (random <= cumSum) {
                    return action;
                }
            }
            
            return 'Question'; // Default fallback
        }

        // Spinning functionality
        let spinningState = {
            isSpinning: false,
            currentHighlight: 0
        };

        function startSpinning() {
            if (spinningState.isSpinning || gameState.actionTaken) return;
            
            spinningState.isSpinning = true;
            gameState.isSpinning = true;
            
            const playButton = document.getElementById('playButton');
            playButton.disabled = true;
            
            const buttons = document.querySelectorAll('.action-btn');
            const totalSpins = 15 + Math.floor(Math.random() * 10);
            let currentSpin = 0;
            let speed = 100;
            
            function highlightNext() {
                buttons.forEach(btn => btn.classList.remove('highlighted'));
                buttons[spinningState.currentHighlight].classList.add('highlighted');
                
                spinningState.currentHighlight = (spinningState.currentHighlight + 1) % buttons.length;
                currentSpin++;
                
                if (currentSpin > totalSpins * 0.7) {
                    speed += 50;
                }
                
                if (currentSpin < totalSpins) {
                    setTimeout(highlightNext, speed);
                } else {
                    selectFinalAction();
                }
            }
            
            highlightNext();
        }

        function selectFinalAction() {
            const buttons = document.querySelectorAll('.action-btn');
            buttons.forEach(btn => btn.classList.remove('highlighted'));
            
            // Get weighted random action
            const selectedAction = getWeightedRandomAction();
            const selectedButton = Array.from(buttons).find(btn => btn.dataset.action === selectedAction);
            
            selectedButton.classList.add('selected');
            
            setTimeout(() => {
                executeSelectedAction(selectedAction, selectedButton);
            }, 2000);
        }

        function executeSelectedAction(action, buttonElement) {
            buttonElement.classList.remove('selected');
            gameState.actionTaken = true;
            
            const currentPlayerName = gameState.currentPlayer === 'Player1' ? gameState.player1Name : gameState.player2Name;
            
            if (action === 'Question') {
                const question = getFilteredQuestion();
                const levels = {1: 'Romantic', 2: 'Spicy', 3: 'Intense', 4: 'Extreme'};
                
                document.getElementById('questionText').textContent = question;
                document.getElementById('questionIntensity').textContent = levels[gameState.spiceLevel];
                document.getElementById('questionOverlay').classList.add('show');
                document.getElementById('questionDisplay').classList.add('show');
                document.getElementById('questionActions').style.display = 'block';
                document.getElementById('questionResult').style.display = 'none';
            } else {
                showNotification(`${currentPlayerName} must: ${action}`);
                setTimeout(() => {
                    startAutoAdvanceCountdown();
                }, 1500);
            }
            
            resetSpinningState();
        }

        function resetSpinningState() {
            spinningState.isSpinning = false;
            gameState.isSpinning = false;
            spinningState.currentHighlight = 0;
            
            const playButton = document.getElementById('playButton');
            playButton.disabled = false;
            
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.classList.remove('highlighted', 'selected');
            });
        }

        // Question handling
        function answerQuestion(answer) {
            document.getElementById('questionActions').style.display = 'none';
            showQuestionResult(answer, false);
            
            setTimeout(() => {
                document.getElementById('questionOverlay').classList.remove('show');
                document.getElementById('questionDisplay').classList.remove('show');
                
                setTimeout(() => {
                    startAutoAdvanceCountdown();
                }, 300);
            }, 2000);
        }

        function letFateDecide() {
            const choices = ['yes', 'no'];
            const fateAnswer = choices[Math.floor(Math.random() * choices.length)];
            
            document.getElementById('questionActions').style.display = 'none';
            showQuestionResult(fateAnswer, true);
            
            setTimeout(() => {
                document.getElementById('questionOverlay').classList.remove('show');
                document.getElementById('questionDisplay').classList.remove('show');
                
                setTimeout(() => {
                    startAutoAdvanceCountdown();
                }, 300);
            }, 2500);
        }

        function showQuestionResult(answer, wasFate) {
            const resultDiv = document.getElementById('questionResult');
            const resultIcon = document.getElementById('resultIcon');
            const resultMessage = document.getElementById('resultMessage');
            
            resultDiv.style.display = 'block';
            
            if (answer === 'yes') {
                resultDiv.style.background = 'rgba(76, 175, 80, 0.1)';
                resultDiv.style.border = '1px solid rgba(76, 175, 80, 0.3)';
                resultIcon.textContent = wasFate ? '🎲💋' : '💋';
                resultMessage.textContent = wasFate ? 'Fate says... Hell Yes!' : 'Hell Yes!';
            } else {
                resultDiv.style.background = 'rgba(255, 71, 87, 0.1)';
                resultDiv.style.border = '1px solid rgba(255, 71, 87, 0.3)';
                resultIcon.textContent = wasFate ? '🎲😈' : '😈';
                resultMessage.textContent = wasFate ? 'Fate says... Not Tonight!' : 'Not Tonight!';
            }
        }

        // Auto-advance
        function startAutoAdvanceCountdown() {
            const overlay = document.getElementById('autoAdvanceOverlay');
            const countdownNumber = document.getElementById('countdownNumber');
            
            overlay.classList.add('show');
            let countdown = 3;
            countdownNumber.textContent = countdown;
            
            const countdownInterval = setInterval(() => {
                countdown--;
                if (countdown > 0) {
                    countdownNumber.textContent = countdown;
                } else {
                    clearInterval(countdownInterval);
                    overlay.classList.remove('show');
                    nextTurn();
                }
            }, 1000);
        }

        function nextTurn() {
            gameState.currentPlayer = gameState.currentPlayer === 'Player1' ? 'Player2' : 'Player1';
            gameState.totalTurns++;
            
            gameState.actionTaken = false;
            
            updateDisplay();
            showNotification(`${gameState.currentPlayer === 'Player1' ? gameState.player1Name : gameState.player2Name}'s turn! Roll the dice!`);
            
            saveGameState();
        }

        // Utility Functions
        function generateSessionID() {
            return 'session_' + Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function saveGameState() {
            try {
                localStorage.setItem('eroticDateNightGameState', JSON.stringify({
                    currentPlayer: gameState.currentPlayer,
                    totalTurns: gameState.totalTurns,
                    player1Name: gameState.player1Name,
                    player2Name: gameState.player2Name,
                    spiceLevel: gameState.spiceLevel,
                    sessionID: gameState.sessionID
                }));
            } catch (error) {
                console.log('Could not save game state');
            }
        }

        function loadGameState() {
            try {
                const saved = localStorage.getItem('eroticDateNightGameState');
                const savedSettings = localStorage.getItem('eroticDateNightSettings');
                
                if (saved) {
                    const parsedState = JSON.parse(saved);
                    Object.assign(gameState, parsedState);
                }
                
                if (savedSettings) {
                    const settings = JSON.parse(savedSettings);
                    gameState.spiceLevel = settings.spiceLevel || 2;
                }
                
                gameState.actionTaken = false;
                gameState.isSpinning = false;
                
            } catch (error) {
                console.log('Could not load saved data');
            }
        }

        // Style for spice level buttons
        const style = document.createElement('style');
        style.textContent = `
            .spice-level {
                background: rgba(0, 0, 0, 0.5);
                border: 2px solid rgba(212, 175, 55, 0.3);
                border-radius: 25px;
                padding: 20px;
                color: var(--cream);
                cursor: pointer;
                transition: all 0.3s ease;
                text-align: center;
            }
            
            .spice-level:hover {
                transform: translateY(-2px);
                border-color: var(--gold);
            }
            
            .spice-level.selected {
                background: rgba(212, 175, 55, 0.2);
                border-color: var(--gold);
                box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
            }
            
            .answer-btn:hover {
                background: rgba(212, 175, 55, 0.1);
                transform: translateY(-2px);
                box-shadow: 0 5px 20px rgba(212, 175, 55, 0.3);
            }
        `;
        document.head.appendChild(style);
        
        /* ===================================================================
           FINAL STEPS TO COMPLETE YOUR GAME:
           
           1. Convert your images to base64:
              - Go to https://base64.guru/converter/encode/image
              - Upload each image and copy the base64 string
           
           2. Replace the placeholders:
              - In the CSS: Replace 'YOUR_INTIMATE_BACKGROUND_BASE64_HERE'
              - In initializeIcons(): Replace all 5 SVG placeholders with 
                your actual golden icon base64 strings
           
           3. Edit questions:
              - Modify the questionsDatabase object at the top
              - Add/remove questions as desired
              - Remember: "partner" is automatically replaced with the next player's name
           
           4. Save and test!
        =================================================================== */
    </script>
</body>
</html>
